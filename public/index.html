<!DOCTYPE HTML>
<html>
<head>
    <title>Example Backbone App</title>
    
    <!-- load the bootstrap stylesheet -->
    <link href="css/bootstrap.min.css" media="all" rel="stylesheet" type="text/css" />
    <link href="css/bootstrap-responsive.min.css" media="all" rel="stylesheet" type="text/css" />
    <link href="css/overrides.css" media="all" rel="stylesheet" type="text/css" />  
</head>
<body>
    <div id="wrap">
        <div class="container">
            <div class="page-header">
                <h1>Backbone.js Example App</h1>
            </div>
            <p class="lead">As simple as possible backbone app. Mostly just displaying how to wire up the classes, and listen to events.</p>

            <div id="primary-content">
                <!-- the container that gets populated with the index -->
                
                <!-- We can display a loader while require is loading dependencies -->
                <img src="img/ajax-loader.gif" />
            </div>
        </div>
    </div>
    
    <!-- This part of the HTML contains templates. They are not displayed until a view renders them in the DOM -->
    
    <!-- the form, used for create and edit -->
    <script type="text/jst" id="formTemplate">
        <div class="well">
            <form class="form-signin">
                <h2 class="form-signin-heading"></h2>
                <input type="text" class="input-block-level" name="title" placeholder="Title" value="<%= title %>">
                <input type="text" class="input-block-level" name="author" placeholder="Author" value="<%= author %>">
                <textarea class="input-block-level" rows="5" name="description" placeholder="Description"><%= description %></textarea>
                <div class="action-bar">
                    <button class="save btn btn-large btn-primary" type="submit">Save</button>
                    or
                    <a href="#notes/index" class="btn btn-large">Cancel</a>
                    <img src="img/ajax-loader.gif" class="loader" style="display: none" />
                    <span class="error text-error" style="display: none" >An error has occured</span>
                </div>
            </form>
        </div>
    </script>
    
    <!-- the index container -->
    <script type="text/template" id="indexTemplate">
        <div class="well">
            <a class="btn btn-block btn-large btn-info" href="#note/new">Create New Note</a>
        </div>
        <table class="table table-striped">
            <thead>
                <tr>
                    <th width="20%">Title</th>
                    <th width="20%">Author</th>
                    <th>Description</th>
                    <th></th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
    </script>
    
    <!-- the row template, renders once for each item in the index -->
    <script type="text/template" id="rowTemplate">
        <td>
            <a href="#note/<%= id %>/view"><%= title %></a>
            </td>
                <td><%= author %></td>
                <td><% print(description.substring(0, 100)) %>...</td>
                <td>
            <a href="#" class="delete btn btn-danger btn-small">delete</a>
        </td>
    </script>
    
    <!-- the show template -->
    <script type="text/template" id="showTemplate">
        <div class="well">
            <a class="btn btn-large" href="#notes/index">
                <i class="icon-arrow-left"></i>
                Back To Index
            </a>
            <a class="btn btn-large btn-info" href="#note/<%= id %>/edit">
                <i class="icon-pencil icon-white"></i>
                Edit Note
            </a>
        </div>
        <h2>
            <%= title %>
            <small>by: <%= author %></small>
        </h2>
        <p style="white-space:pre-wrap;"><%= description %></p>
    </script>

    <!-- 
        We include require here. It will load 'js/main.js' among with all it's dependencies.
        When it's done loading, the contents of main.js will be executed 
    -->
    <script data-main='js/main' src='js/lib/require-jquery.js'></script>
</body>
</html>
